<section class="max-w-7xl mx-auto p-6">
  <!-- üè∑Ô∏è T√≠tulo con mejor dise√±o -->
  <div class="text-center mt-6 mb-12">
    @if (productsService.searchTerm()) {
    <h1 class="text-4xl font-bold text-gray-900 mb-2">
      Resultados para <span class="text-primary">"{{ productsService.searchTerm() }}"</span>
    </h1>
    <p class="text-gray-600">
      {{ productsService.products().length }} productos encontrados
    </p>
    } @else {
    <h1 class="text-4xl font-heading font-bold text-slate-700 mb-2">
      Cat√°logo de productos
    </h1>
    <p class="text-gray-600 text-lg">
      Descubre nuestros productos m√°s populares
    </p>
    }
    <div class="w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto mt-4 rounded-full"></div>
  </div>

  <!-- üîÑ Si hay productos, mostramos el grid -->
  @if (productsService.products().length > 0) {
  <div class="grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 auto-rows-fr">
    @for (product of productsService.products(); track product.id) {
      <app-product-card [product]="product" (openDetail)="openProductModal($event)"></app-product-card>
    }
  </div>
  @if (modalOpen()) {
    <app-product-detail-modal
      [product]="selectedProduct()"
      [loading]="false"
      [error]="!selectedProduct()"
      (close)="closeProductModal()"
    ></app-product-detail-modal>
  }
  } @else {
  <!-- ‚è≥ Fallback mientras carga o sin resultados -->
  @if (productsService.searchTerm()) {
  <!-- üîç Sin resultados de b√∫squeda -->
  <div class="flex flex-col items-center justify-center py-20">
    <div class="text-6xl mb-4">üîç</div>
    <h3 class="text-xl font-semibold text-gray-700 mb-2">
      No se encontraron productos
    </h3>
    <p class="text-center text-gray-500 text-lg mb-4">
      No hay productos que coincidan con "{{ productsService.searchTerm() }}"
    </p>
    <p class="text-center text-gray-400 text-sm">
      Intenta con otros t√©rminos de b√∫squeda
    </p>
  </div>
  } @else {
  <!-- ‚è≥ Cargando productos -->
  <div class="flex flex-col items-center justify-center py-20">
    <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500 border-opacity-50 mb-4"></div>
    <p class="text-center text-slate-500 text-lg ">
      Cargando productos...
    </p>
    <p class="text-center text-gray-400 text-sm mt-2">
      Esto puede tomar unos segundos
    </p>
  </div>
  }
  }
</section>
